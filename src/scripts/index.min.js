"use strict";window.addEventListener("DOMContentLoaded",(()=>{const movieDB={movies:["Логан","Лига справедливости","Ла-ла лэнд","Одержимость","Скотт Пилигрим против..."]},adv=document.querySelectorAll(".promo__adv img"),poster=document.querySelector(".promo__bg"),genre=poster.querySelector(".promo__genre"),movieList=document.querySelector(".promo__interactive-list"),addForm=document.querySelector("form.add"),addInput=addForm.querySelector(".adding__input"),checkbox=addForm.querySelector('[type="checkbox"]');addForm.addEventListener("submit",(e=>{e.preventDefault();let newFilm=addInput.value,favorite=checkbox.checked;newFilm&&(newFilm.length>21&&(newFilm=`${newFilm.substring(0,22)}...`),favorite&&console.log("Добавляем любимый фильм"),movieDB.movies.push(newFilm),createMovieList(movieDB.movies,movieList)),e.target.reset()}));const sortArr=arr=>{arr.sort()};function createMovieList(films,parent){parent.innerHTML="",sortArr(films),films.forEach(((film,index)=>{parent.innerHTML+=`\n        <li class="promo__interactive-item">\n          ${index+1}. ${film}\n          <div class="delete"></div>\n        </li>`})),document.querySelectorAll(".delete").forEach(((btn,i)=>{btn.addEventListener("click",(()=>{btn.parentElement.remove(),movieDB.movies.splice(i,1),createMovieList(films,parent)}))}))}adv.forEach((item=>{item.remove()})),genre.textContent="драма",poster.style.backgroundImage='url("../images/bg.jpg")',createMovieList(movieDB.movies,movieList)}));
//# sourceMappingURL=index.min.js.map