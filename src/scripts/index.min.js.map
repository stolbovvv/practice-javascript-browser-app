{"version":3,"sources":["index.js"],"names":["window","addEventListener","movieDB","movies","adv","document","querySelectorAll","poster","querySelector","genre","movieList","addForm","addInput","checkbox","e","preventDefault","newFilm","value","favorite","checked","length","substring","console","log","push","createMovieList","target","reset","sortArr","arr","sort","films","parent","innerHTML","forEach","film","index","btn","i","parentElement","remove","splice","item","textContent","style","backgroundImage"],"mappings":"AAAA,aAEAA,OAAOC,iBAAiB,oBAAoB,KAC1C,MAAMC,QAAU,CACdC,OAAQ,CAAC,QAAS,sBAAuB,aAAc,cAAe,6BAGlEC,IAAMC,SAASC,iBAAiB,mBAChCC,OAASF,SAASG,cAAc,cAChCC,MAAQF,OAAOC,cAAc,iBAC7BE,UAAYL,SAASG,cAAc,4BACnCG,QAAUN,SAASG,cAAc,YACjCI,SAAWD,QAAQH,cAAc,kBACjCK,SAAWF,QAAQH,cAAc,qBAEvCG,QAAQV,iBAAiB,UAAWa,IAClCA,EAAEC,iBAEF,IAAIC,QAAUJ,SAASK,MACnBC,SAAWL,SAASM,QAEpBH,UACEA,QAAQI,OAAS,KACnBJ,QAAW,GAAEA,QAAQK,UAAU,EAAG,UAGhCH,UACFI,QAAQC,IAAI,2BAGdrB,QAAQC,OAAOqB,KAAKR,SAEpBS,gBAAgBvB,QAAQC,OAAQO,YAGlCI,EAAEY,OAAOC,OAAO,IAGlB,MAYMC,QAAWC,MACfA,IAAIC,MAAM,EAGZ,SAASL,gBAAgBM,MAAOC,QAC9BA,OAAOC,UAAY,GAEnBL,QAAQG,OAERA,MAAMG,SAAQ,CAACC,KAAMC,SACnBJ,OAAOC,WAAc,6DAEfG,MAAQ,MAAMD,2DAEZ,IAGV9B,SAASC,iBAAiB,WAAW4B,SAAQ,CAACG,IAAKC,KACjDD,IAAIpC,iBAAiB,SAAS,KAC5BoC,IAAIE,cAAcC,SAClBtC,QAAQC,OAAOsC,OAAOH,EAAG,GAEzBb,gBAAgBM,MAAOC,OAAO,GAC9B,GAEN,CAEU5B,IAtCJ8B,SAASQ,OACXA,KAAKF,QAAQ,IAKf/B,MAAMkC,YAAc,QAEpBpC,OAAOqC,MAAMC,gBAAkB,0BAgCjCpB,gBAAgBvB,QAAQC,OAAQO,UAAU","file":"index.min.js","sourcesContent":["/* Global */\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n  const movieDB = {\r\n    movies: ['Логан', 'Лига справедливости', 'Ла-ла лэнд', 'Одержимость', 'Скотт Пилигрим против...'],\r\n  };\r\n\r\n  const adv = document.querySelectorAll('.promo__adv img');\r\n  const poster = document.querySelector('.promo__bg');\r\n  const genre = poster.querySelector('.promo__genre');\r\n  const movieList = document.querySelector('.promo__interactive-list');\r\n  const addForm = document.querySelector('form.add');\r\n  const addInput = addForm.querySelector('.adding__input');\r\n  const checkbox = addForm.querySelector('[type=\"checkbox\"]');\r\n\r\n  addForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    let newFilm = addInput.value;\r\n    let favorite = checkbox.checked;\r\n\r\n    if (newFilm) {\r\n      if (newFilm.length > 21) {\r\n        newFilm = `${newFilm.substring(0, 22)}...`;\r\n      }\r\n\r\n      if (favorite) {\r\n        console.log('Добавляем любимый фильм');\r\n      }\r\n\r\n      movieDB.movies.push(newFilm);\r\n\r\n      createMovieList(movieDB.movies, movieList);\r\n    }\r\n\r\n    e.target.reset();\r\n  });\r\n\r\n  const deleteAdv = (arr) => {\r\n    arr.forEach((item) => {\r\n      item.remove();\r\n    });\r\n  };\r\n\r\n  const makeChanges = () => {\r\n    genre.textContent = 'драма';\r\n\r\n    poster.style.backgroundImage = 'url(\"../images/bg.jpg\")';\r\n  };\r\n\r\n  const sortArr = (arr) => {\r\n    arr.sort();\r\n  };\r\n\r\n  function createMovieList(films, parent) {\r\n    parent.innerHTML = '';\r\n\r\n    sortArr(films);\r\n\r\n    films.forEach((film, index) => {\r\n      parent.innerHTML += `\r\n        <li class=\"promo__interactive-item\">\r\n          ${index + 1}. ${film}\r\n          <div class=\"delete\"></div>\r\n        </li>`;\r\n    });\r\n\r\n    document.querySelectorAll('.delete').forEach((btn, i) => {\r\n      btn.addEventListener('click', () => {\r\n        btn.parentElement.remove();\r\n        movieDB.movies.splice(i, 1);\r\n\r\n        createMovieList(films, parent);\r\n      });\r\n    });\r\n  }\r\n\r\n  deleteAdv(adv);\r\n  makeChanges();\r\n  createMovieList(movieDB.movies, movieList);\r\n});\r\n"]}